# Library Management System


## Описание проекта
Library Management System — это консольное приложение для управления библиотекой книг. Оно позволяет выполнять операции добавления, удаления, изменения статуса, поиска и отображения книг. Приложение поддерживает хранение данных в формате CSV и предоставляет два режима работы: REPL (интерактивная оболочка) и CLI (командная строка).

Приложение реализовано с использованием стандартной библиотеки Python, что делает его простым и удобным для использования.


## Режимы использования утилиты
REPL:
```shell
./main.py
```
CLI:
```shell
./main.py <команда> <значения>
```


## Команды

### Получение документации по командам
Полная справка по всем командам
```shell
./main.py {-h | --help}
```
Справка по конкретной команде
```shell
./main.py <команда> {-h | --help}
```

### Управление книгами
Получение списка всех книг
```shell
./main.py list
```
Поиск книг по опциональным фильтрам. В случае отсутствия параметров, команда равносильна команде list
```shell
./main.py find [-t <название_книги>] [-a <имя_автора>] [-y <год>]
```
Добавление книги
```shell
./python add <название_книги> <имя_автора> <год>
```
Удаление книги
```shell
./main.py delete <идентификатор>
```
Изменение статуса книги
```shell
./main.py modify <идентификатор> <новый_статус>
```


## Структура проекта
* main.py:
  * main.main() - функция, вызываемая при запуске утилиты
  * main.run_cli() - функция для обработки команд в режиме CLI
  * main.run_repl() - функция для обработки команд в режиме REPL
* dao.py:
  * dao.LibraryManagementSystem - класс для работы с библиотекой
* utils.py - вспомогательные функции:
  * utils.count_rows() - подсчет строк в файле
  * utils.generate_db() - создание чистой таблицы с заголовком
  * generate_config_file() - создание файла конфигурации
* config.py - файл конфигурации (создается, если отсутствует)
  * config.TABLE_FILE - строка с названием файла библиотеки
  * config.TABLE_FIELDS - кортеж со столбцами таблицы
  * config.USERS_FILTERS - кортеж с разрешенными пользователям фильтрами
  * config.BOOKS_STATUSES - кортеж с допустимыми статусами книг
  * config.LOGGING_LEVEL - строка с названием нужного уровня логирования


## Основные идеи реализации
1. Функциональность CRUD: возможность добавлять, удалять, изменять и искать книги.
2. Два режимы работы: REPL и CLI.
3. Настраиваемость через конфиг:
   * Поддержка автоматических миграций структуры библиотеки.
   * Возможность редактирования разрешенных фильтров и статусов книг.
4. Логирование по разным уровням (DEBUG, INFO, WARNING, ERROR, CRITICAL).
5. Парсинг аргументов командной строки с использованием модуля argparse.


## Использованные пакеты стандартной библиотеки
1. argparse
2. csv
3. logging
4. os.path
5. tempfile
6. shutil

## Идеи для дальнейшего улучшения проекта:
* Добавить алгоритм для нахождения расстояние между строками. Это решит следующие проблемы:
  * пользователь ввел неверный год издания книги
  * пользователь ввел лишние или пропустил символы в каком-либо из фильтров
* Добавить индексацию книг в базе. Варианты:
  * по частоте обращения к конкретной книге
  * по какому-либо из столбцов, поиск по которому происходит чаще всего
